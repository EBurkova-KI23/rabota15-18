class ChatBotFSM:
    def __init__(self):
        self.state = 'start'

    def respond(self, user_input):
        if self.state == 'start':
            return self.start_state(user_input)
        elif self.state == 'help':
            return self.help_state(user_input)
        elif self.state == 'options':
            return self.options_state(user_input)
        elif self.state == 'quit':
            return self.quit_state(user_input)
        else:
            return self.error_state(user_input)

    def start_state(self, user_input):
        self.state = 'help'
        return "Привет! Чем могу помочь?"

    def help_state(self, user_input):
        if user_input.lower() in ['проблемы с интернетом', 'нет интернета', 'не работает иинтернет', 'ничего не грузится']:
            self.state = 'options'
            return "Выберите вариант:\n1. Перезагрузить роутер\n2. Проверить настройки Wi-Fi\n3. Обратиться в поддержку"
        elif user_input.lower() in ['ничего', 'все в порядке', 'все хорошо', 'проблем нет']:
            self.state = 'quit'
            return "Рад был помочь! Если возникнут вопросы - обращайтесь."
        else:
            return "Извините, я не понимаю. Пожалуйста, уточните вопрос."

    def options_state(self, user_input):
        if user_input == '1':
            self.state = 'quit'
            return "Попробуйте перезагрузить роутер. Если проблема не решится - обращайтесь снова."
        elif user_input == '2':
            self.state = 'quit'
            return "Проверьте настройки Wi-Fi. Если проблема не решится - обращайтесь снова."
        elif user_input == '3':
            self.state = 'quit'
            return "Свяжитесь с нашей поддержкой по телефону. Спасибо!"
        else:
            return "Пожалуйста, выберите одну из предложенных опций (1, 2 или 3)."

    def quit_state(self, user_input):
        self.state = 'start'
        return "Сессия завершена. Если возникнет необходимость - пишите снова."


if __name__ == "__main__":
    bot = ChatBotFSM()
    print("Бот запущен. Введите 'выход' для завершения.")
    while True:
        user_input = input("Вы: ")
        if user_input.lower() == 'выход':
            print ("Бот: Спасибо за обращение. Если возникнут проблемы, обращайтесть.")
            break
        response = bot.respond(user_input)
        print("Бот:", response)

"""
Проверка 1
Бот запущен. Введите 'выход' для завершения.
Вы: 
Бот: Привет! Чем могу помочь?
Вы: ничего
Бот: Рад был помочь! Если возникнут вопросы - обращайтесь.
Вы: 
Бот: Произошла ошибка. Давайте начнём сначала. Чем могу помочь?
Вы: нет интернета
Бот: Выберите вариант:
1. Перезагрузить роутер
2. Проверить настройки Wi-Fi
3. Обратиться в поддержку
Вы: 5
Бот: Пожалуйста, выберите одну из предложенных опций (1, 2 или 3).
Вы: 1
Бот: Попробуйте перезагрузить роутер. Если проблема не решится - обращайтесь снова.
Вы: 
Бот: Сессия завершена. Если возникнет необходимость - пишите снова.
Вы: выход
Бот: Спасибо за обращение. Если возникнут проблемы, обращайтесть.

Проверка 2 
Бот запущен. Введите 'выход' для завершения.
Вы: 
Бот: Привет! Чем могу помочь?
Вы: ничего
Бот: Рад был помочь! Если возникнут вопросы - обращайтесь.
Вы: 
Бот: Сессия завершена. Если возникнет необходимость - пишите снова.
Вы: 
Бот: Привет! Чем могу помочь?
Вы: нет интернета
Бот: Выберите вариант:
1. Перезагрузить роутер
2. Проверить настройки Wi-Fi
3. Обратиться в поддержку
Вы: 3
Бот: Свяжитесь с нашей поддержкой по телефону. Спасибо!
Вы: спасибо
Бот: Сессия завершена. Если возникнет необходимость - пишите снова.
Вы: выход
Бот: Спасибо за обращение. Если возникнут проблемы, обращайтесть.

Проверка 3
Бот запущен. Введите 'выход' для завершения.
Вы: 
Бот: Привет! Чем могу помочь?
Вы: ничего
Бот: Рад был помочь! Если возникнут вопросы - обращайтесь.
Вы: 
Бот: Сессия завершена. Если возникнет необходимость - пишите снова.
Вы: выход
Бот: Спасибо за обращение. Если возникнут проблемы, обращайтесть.
"""
